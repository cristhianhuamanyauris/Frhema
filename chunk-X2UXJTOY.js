import{b as y,c as M,d as P,e as I,f as N,g as E,m as R,o as F}from"./chunk-SMCZ5Z56.js";import{a as j}from"./chunk-5T4VIS3M.js";import{$a as c,Db as h,Ga as v,Gb as _,Ia as d,Ma as e,Na as t,Qa as x,Ra as l,W as w,Wa as a,Ya as u,_a as p,ab as f,cb as S,wa as m,xa as C}from"./chunk-V3AN2ELD.js";import{h as b}from"./chunk-FK42CRUA.js";function W(r,o){if(r&1&&(e(0,"div",10),a(1),t()),r&2){let i=l();m(),u(" ",i.mensaje," ")}}function L(r,o){if(r&1&&(e(0,"div",11),a(1),t()),r&2){let i=l();m(),u(" ",i.error," ")}}var T=class r{constructor(o){this.supabase=o}nueva="";confirmar="";mensaje="";error="";cambiar(){return b(this,null,function*(){if(this.error="",this.mensaje="",this.nueva!==this.confirmar){this.error="Las contrase\xF1as no coinciden.";return}let{error:o}=yield this.supabase.client.auth.updateUser({password:this.nueva});o?this.error=o.message:this.mensaje="La contrase\xF1a se cambi\xF3 correctamente. Ya puedes iniciar sesi\xF3n."})}static \u0275fac=function(i){return new(i||r)(C(j))};static \u0275cmp=w({type:r,selectors:[["app-reset-password"]],standalone:!0,features:[S],decls:17,vars:4,consts:[[1,"max-w-md","mx-auto","bg-white","p-6","shadow","rounded","mt-10"],[1,"text-xl","font-semibold","mb-4"],["class","p-3 bg-green-100 text-green-700 rounded mb-4",4,"ngIf"],["class","p-3 bg-red-100 text-red-700 rounded mb-4",4,"ngIf"],[3,"ngSubmit"],["type","password","name","nueva","required","",1,"w-full","border","p-2","rounded","mb-4",3,"ngModelChange","ngModel"],["type","password","name","confirmar","required","",1,"w-full","border","p-2","rounded","mb-4",3,"ngModelChange","ngModel"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","w-full"],[1,"mt-4","text-[0.9rem]","text-center","text-gray-600"],["routerLink","/",1,"text-blue-600","font-semibold","no-underline","hover:text-blue-800"],[1,"p-3","bg-green-100","text-green-700","rounded","mb-4"],[1,"p-3","bg-red-100","text-red-700","rounded","mb-4"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"h2",1),a(2,"Cambiar contrase\xF1a"),t(),v(3,W,2,1,"div",2)(4,L,2,1,"div",3),e(5,"form",4),x("ngSubmit",function(){return n.cambiar()}),e(6,"label"),a(7,"Nueva contrase\xF1a"),t(),e(8,"input",5),f("ngModelChange",function(s){return c(n.nueva,s)||(n.nueva=s),s}),t(),e(9,"label"),a(10,"Confirmar contrase\xF1a"),t(),e(11,"input",6),f("ngModelChange",function(s){return c(n.confirmar,s)||(n.confirmar=s),s}),t(),e(12,"button",7),a(13," Cambiar contrase\xF1a "),t()(),e(14,"p",8)(15,"a",9),a(16," Iniciar Sesion "),t()()()),i&2&&(m(3),d("ngIf",n.mensaje),m(),d("ngIf",n.error),m(4),p("ngModel",n.nueva),m(3),p("ngModel",n.confirmar))},dependencies:[_,h,F,E,y,M,P,R,N,I],encapsulation:2})};export{T as ResetPasswordComponent};
