import{b as y,c as M,d as P,e as N,f as I,g as R,m as E,o as F}from"./chunk-SMCZ5Z56.js";import{a as j}from"./chunk-5T4VIS3M.js";import{$a as c,Db as _,Ga as v,Gb as x,Ia as d,Ma as e,Na as n,Qa as h,Ra as l,W as w,Wa as m,Ya as p,_a as u,ab as f,cb as S,wa as s,xa as C}from"./chunk-V3AN2ELD.js";import{h as b}from"./chunk-FK42CRUA.js";function W(r,i){if(r&1&&(e(0,"div",8),m(1),n()),r&2){let a=l();s(),p(" ",a.mensaje," ")}}function D(r,i){if(r&1&&(e(0,"div",9),m(1),n()),r&2){let a=l();s(),p(" ",a.error," ")}}var T=class r{constructor(i){this.supabase=i}nueva="";confirmar="";mensaje="";error="";cambiar(){return b(this,null,function*(){if(this.error="",this.mensaje="",this.nueva!==this.confirmar){this.error="Las contrase\xF1as no coinciden.";return}let{error:i}=yield this.supabase.client.auth.updateUser({password:this.nueva});i?this.error=i.message:this.mensaje="La contrase\xF1a se cambi\xF3 correctamente. Ya puedes iniciar sesi\xF3n."})}static \u0275fac=function(a){return new(a||r)(C(j))};static \u0275cmp=w({type:r,selectors:[["app-reset-password"]],standalone:!0,features:[S],decls:14,vars:4,consts:[[1,"max-w-md","mx-auto","bg-white","p-6","shadow","rounded","mt-10"],[1,"text-xl","font-semibold","mb-4"],["class","p-3 bg-green-100 text-green-700 rounded mb-4",4,"ngIf"],["class","p-3 bg-red-100 text-red-700 rounded mb-4",4,"ngIf"],[3,"ngSubmit"],["type","password","name","nueva","required","",1,"w-full","border","p-2","rounded","mb-4",3,"ngModelChange","ngModel"],["type","password","name","confirmar","required","",1,"w-full","border","p-2","rounded","mb-4",3,"ngModelChange","ngModel"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","w-full"],[1,"p-3","bg-green-100","text-green-700","rounded","mb-4"],[1,"p-3","bg-red-100","text-red-700","rounded","mb-4"]],template:function(a,t){a&1&&(e(0,"div",0)(1,"h2",1),m(2,"Cambiar contrase\xF1a"),n(),v(3,W,2,1,"div",2)(4,D,2,1,"div",3),e(5,"form",4),h("ngSubmit",function(){return t.cambiar()}),e(6,"label"),m(7,"Nueva contrase\xF1a"),n(),e(8,"input",5),f("ngModelChange",function(o){return c(t.nueva,o)||(t.nueva=o),o}),n(),e(9,"label"),m(10,"Confirmar contrase\xF1a"),n(),e(11,"input",6),f("ngModelChange",function(o){return c(t.confirmar,o)||(t.confirmar=o),o}),n(),e(12,"button",7),m(13," Cambiar contrase\xF1a "),n()()()),a&2&&(s(3),d("ngIf",t.mensaje),s(),d("ngIf",t.error),s(4),u("ngModel",t.nueva),s(3),u("ngModel",t.confirmar))},dependencies:[x,_,F,R,y,M,P,E,I,N],encapsulation:2})};export{T as ResetPasswordComponent};
