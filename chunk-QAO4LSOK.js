import{a as D}from"./chunk-TPAMHFB4.js";import{c as L,d as I}from"./chunk-5J2A4TKV.js";import{b as N,c as F,d as A,e as R,f as j,g as T,m as W,p as z}from"./chunk-BIJEMQVT.js";import"./chunk-M2GT5SNT.js";import{$a as p,Eb as S,Ga as w,Hb as E,Ia as y,Ma as t,Na as r,Oa as d,Qa as v,Ra as _,W as x,Wa as s,Ya as C,ab as u,bb as g,db as M,ea as h,fa as b,wa as l,xa as m}from"./chunk-SFQMZB6G.js";import{h as f}from"./chunk-FK42CRUA.js";function B(a,e){if(a&1&&(t(0,"div",21),s(1),r()),a&2){let o=_();l(),C(" ",o.errorMessage," ")}}var k=class a{constructor(e,o){this.authService=e;this.router=o}email="";password="";errorMessage="";login(){return f(this,null,function*(){this.errorMessage="";try{yield this.authService.login(this.email,this.password),this.router.navigate(["/dashboard"])}catch(e){console.error("Error en login:",e),e.message?.includes("sin rol asignado")?this.errorMessage="Usuario sin rol asignado. Contacte al administrador.":e.message?.includes("Invalid login credentials")||e.message?.includes("Email not confirmed")?this.errorMessage="Credenciales incorrectas o email no confirmado.":e.message?.includes("406")||e.message?.includes("Not Acceptable")?this.errorMessage="Error de permisos. Contacte al administrador del sistema.":this.errorMessage=e.message||"Error al iniciar sesi\xF3n. Intente nuevamente."}})}static \u0275fac=function(o){return new(o||a)(m(D),m(L))};static \u0275cmp=x({type:a,selectors:[["app-login"]],standalone:!0,features:[M],decls:25,vars:3,consts:[[1,"relative","w-screen","h-screen","overflow-hidden","flex","font-sans"],["viewBox","0 0 1000 600","preserveAspectRatio","none","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","w-full","h-full","block","z-0"],["id","gradAzul","x1","0","y1","0","x2","0","y2","1"],["offset","0%","stop-color","#22d3ee"],["offset","100%","stop-color","#2563eb"],["width","1000","height","600","fill","#ffffff"],["d","M 0 0 L 450 0 C 470 100, 470 200, 400 350 C 380 400, 340 500, 400 600 L 0 600 Z","fill","url(#gradAzul)"],[1,"relative","z-10","flex-1","flex","items-center","justify-center","text-white","hidden","md:flex"],[1,"max-w-[360px]","px-10","text-center"],[1,"flex","items-center","justify-center","mx-auto","w-full","max-w-[280px]"],["src","img/logo.webp","alt","Logo Ferreter\xEDa Rhema",1,"w-full","max-w-[280px]","h-auto","object-contain","drop-shadow-[0_4px_12px_rgba(0,0,0,0.15)]"],[1,"relative","z-10","flex-1","md:flex-1","flex","items-center","justify-center","text-gray-900"],[1,"w-full","max-w-[360px]","md:max-w-[360px]","px-8","md:px-12","py-10","box-border","bg-transparent","mx-auto"],[1,"m-0","mb-6","text-[1.6rem]","font-semibold","text-gray-900"],["class","mt-3 text-[0.9rem] text-red-700 bg-red-50 rounded-xl py-2.5 px-3.5 border border-red-200",4,"ngIf"],[1,"flex","flex-col","gap-4",3,"ngSubmit"],["type","email","name","email","required","","placeholder","Email",1,"w-full","py-3.5","px-4","rounded-xl","border","border-gray-200","bg-gray-50","text-[0.95rem]","outline-none","transition-all","placeholder:text-gray-400","focus:border-blue-600","focus:shadow-[0_0_0_1px_rgba(37,99,235,0.25)]","focus:bg-white",3,"ngModelChange","ngModel"],["type","password","name","password","required","","placeholder","Contrase\xF1a",1,"w-full","py-3.5","px-4","rounded-xl","border","border-gray-200","bg-gray-50","text-[0.95rem]","outline-none","transition-all","placeholder:text-gray-400","focus:border-blue-600","focus:shadow-[0_0_0_1px_rgba(37,99,235,0.25)]","focus:bg-white",3,"ngModelChange","ngModel"],["type","submit",1,"mt-3","w-full","py-3.5","px-4","rounded-full","border-none","text-[0.95rem]","font-semibold","tracking-[0.06em]","uppercase","cursor-pointer","bg-gradient-to-br","from-cyan-500","to-blue-600","text-white","shadow-[0_14px_30px_rgba(37,99,235,0.45)]","transition-all","hover:-translate-y-0.5","hover:shadow-[0_18px_36px_rgba(37,99,235,0.55)]","hover:brightness-105","disabled:opacity-70","disabled:cursor-default"],[1,"mt-4","text-[0.9rem]","text-center","text-gray-600"],["routerLink","/recuperar",1,"text-blue-600","font-semibold","no-underline","hover:text-blue-800"],[1,"mt-3","text-[0.9rem]","text-red-700","bg-red-50","rounded-xl","py-2.5","px-3.5","border","border-red-200"]],template:function(o,i){o&1&&(t(0,"div",0),h(),t(1,"svg",1)(2,"defs")(3,"linearGradient",2),d(4,"stop",3)(5,"stop",4),r()(),d(6,"rect",5)(7,"path",6),r(),b(),t(8,"div",7)(9,"div",8)(10,"div",9),d(11,"img",10),r()()(),t(12,"div",11)(13,"div",12)(14,"h2",13),s(15,"Iniciar Sesi\xF3n"),r(),w(16,B,2,1,"div",14),t(17,"form",15),v("ngSubmit",function(){return i.login()}),t(18,"input",16),g("ngModelChange",function(n){return u(i.email,n)||(i.email=n),n}),r(),t(19,"input",17),g("ngModelChange",function(n){return u(i.password,n)||(i.password=n),n}),r(),t(20,"button",18),s(21," Ingresar "),r()(),t(22,"p",19)(23,"a",20),s(24," \xBFOlvidaste tu contrase\xF1a? "),r()()()()()),o&2&&(l(16),y("ngIf",i.errorMessage),l(2),p("ngModel",i.email),l(),p("ngModel",i.password))},dependencies:[E,S,z,T,N,F,A,W,j,R,I],encapsulation:2})};export{k as LoginComponent};
